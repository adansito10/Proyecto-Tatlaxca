<div class="container py-3">
  <h3 class="fw-bold mb-3">Gestión de Ventas</h3>

  <div class="row mb-3 align-items-end">
    <div class="col-md-3">
      <label>Selecciona Mes</label>
      <input type="month" class="form-control" [(ngModel)]="mesSeleccionado" (change)="seleccionarMes(mesSeleccionado)">
    </div>

    <div class="col-md-6">
      <label>Días del mes</label>
      <div class="d-flex flex-wrap align-items-center">
        <button class="btn btn-sm btn-outline-secondary me-2"
                (click)="cambiarPaginaDias(-1)"
                [disabled]="paginaDias === 1">←</button>

        <button *ngFor="let dia of diasVisibles"
                class="btn btn-outline-secondary m-1"
                [class.active]="dia === diaSeleccionado"
                (click)="seleccionarDia(dia)">
          {{ dia }}
        </button>

        <button class="btn btn-sm btn-outline-secondary ms-2"
                (click)="cambiarPaginaDias(1)"
                [disabled]="paginaDias === totalPaginasDias">→</button>
      </div>
    </div>

    <div class="col-md-3">
      <button class="btn custom-agregar-btn w-100" (click)="descargarExcel()">Descargar Excel</button>
    </div>
  </div>

  <table class="table table-striped">
  <thead class="custom-header">
      <tr>
        <th>ID</th>
        <th>Orden</th>
        <th>Método</th>
        <th>Fecha</th>
        <th>Total</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let v of ventasDelDia">
        <td>{{ v.id }}</td>
        <td>{{ v.id_orden }}</td>
        <td>{{ v.metodo_pago }}</td>
        <td>{{ v.fecha_pago | date }}</td>
        <td>{{ v.total_pagado | currency }}</td>
      </tr>
    </tbody>
  </table>

  <div class="text-end fw-bold mt-2">
    Total mostrado: {{ totalMostrado | currency }}
  </div>
</div>
