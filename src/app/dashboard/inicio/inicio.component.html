<div class="dashboard-container">

  <!-- Mensaje de bienvenida -->
  <div class="dashboard-header">
<h2 class="fw-bold mb-2 ms-2 text-dark">Bienvenido al Panel Administrativo Adán</h2>
    <p></p>
  </div>

  <div class="charts-grid">
    <!-- Gráfica 1 -->
    <mat-card class="chart-card">
      <mat-card-header>
        <mat-card-title><mat-icon>bar_chart</mat-icon> Ventas Diarias</mat-card-title>
        <mat-card-subtitle>Últimos 7 días</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <div class="chart-container">
          <canvas baseChart [data]="dailySalesData" [options]="barChartOptions" [type]="barChartType"></canvas>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Gráfica 2 -->
    <mat-card class="chart-card">
      <mat-card-header>
        <mat-card-title><mat-icon>pie_chart</mat-icon> Categorías Populares</mat-card-title>
        <mat-card-subtitle>Distribución por categoría</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <div class="chart-container">
          <canvas baseChart [data]="categoriesData" [options]="doughnutChartOptions" [type]="doughnutChartType"></canvas>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Productos Más Vendidos como "fila completa" -->
    <mat-card class="product-carousel-card full-width">
      <mat-card-header>
        <mat-card-title>
          <mat-icon>local_cafe</mat-icon> Productos Más Vendidos
        </mat-card-title>
        <mat-button-toggle-group class="filter-toggle">
          <mat-button-toggle value="all">Todos</mat-button-toggle>
          <mat-button-toggle value="drinks">Bebidas</mat-button-toggle>
          <mat-button-toggle value="food">Comida</mat-button-toggle>
        </mat-button-toggle-group>
      </mat-card-header>
      <mat-card-content>
        <div class="products-list-horizontal">
          <div class="product-card-horizontal" *ngFor="let product of topProducts">
            <img [src]="product.imagen_url || 'assets/default-product.png'" class="product-image-horizontal" [alt]="product.nombre">
            <div class="product-info-horizontal">
              <h4>{{ product.nombre }}</h4>
              <p class="product-category">{{ getCategoryName(product.id_categoria) }}</p>
              <div class="product-stats">
                <span class="product-price">${{ product.precio }}</span>
                <span class="sales-count">
                  <mat-icon>receipt</mat-icon> {{ getProductSales(product.id) }} ventas
                </span>
              </div>
            </div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Gráfica 3 -->
    <mat-card class="chart-card">
      <mat-card-header>
        <mat-card-title><mat-icon>show_chart</mat-icon> Tendencias Mensuales</mat-card-title>
        <mat-card-subtitle>Últimos 6 meses</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <div class="chart-container">
          <canvas baseChart [data]="monthlyTrendsData" [options]="lineChartOptions" [type]="lineChartType"></canvas>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Gráfica 4 -->
    <mat-card class="chart-card">
      <mat-card-header>
        <mat-card-title><mat-icon>credit_card</mat-icon> Métodos de Pago</mat-card-title>
        <mat-card-subtitle>Distribución de pagos</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <div class="chart-container">
          <canvas baseChart [data]="paymentMethodsData" [options]="polarChartOptions" [type]="polarChartType"></canvas>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>
